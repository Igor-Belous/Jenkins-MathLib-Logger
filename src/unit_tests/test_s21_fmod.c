#include "all_tests_s21.h"

START_TEST(test_ceil_1) {
  const double testCase[5][2] = {{S21_INF, 789.0},
                                 {-S21_INF, 789.0},
                                 {5.8, 0.0},
                                 {NAN, 789.789},
                                 {789.789, NAN}};
  ck_assert_ldouble_nan(s21_fmod(testCase[_i][0], testCase[_i][1]));
}
END_TEST

START_TEST(test_ceil_2) {
  const double testCase[46][2] = {{9876543219.0, 0.123457},
                                  {9876543219.0, -0.123457},
                                  {-9876543219.0, 0.123457},
                                  {-9876543219.0, -0.123457},
                                  {789.789, S21_INF},
                                  {987654321.9876543, -S21_INF},
                                  {0.445, -1.23},
                                  {-0.445, 1.23},
                                  {0.445, 1.23},
                                  {-0.445, -1.23},
                                  {1.2345, 0.45678},
                                  {1.2345, -0.45678},
                                  {1.2345, 0.45678},
                                  {-1.2345, -0.45678},
                                  {-0.53456, 0.45678},
                                  {0.53456, -0.45678},
                                  {0.53456, 0.45678},
                                  {-0.53456, -0.45678},
                                  {0.000053456, -0.000045678},
                                  {-0.000053456, 0.000045678},
                                  {0.000053456, 0.000045678},
                                  {-0.000053456, -0.000045678},
                                  {20.0, -7.0},
                                  {-20.0, 7.0},
                                  {20.0, 7.0},
                                  {-20.0, -7.0},
                                  {7.0, 20.0},
                                  {-7.0, 20.0},
                                  {7.0, -20.0},
                                  {-7.0, -20.0},
                                  {M_PI, M_E},
                                  {-M_PI, M_E},
                                  {M_PI, -M_E},
                                  {-M_PI, -M_E},
                                  {M_E, M_PI},
                                  {-M_E, M_PI},
                                  {M_E, -M_PI},
                                  {-M_E, -M_PI},
                                  {0.0, 1.0},
                                  {-0.0, 1.0},
                                  {0.0, -1.0},
                                  {-0.0, -1.0},
                                  {-0.000053456, -0.045678},
                                  {0.000053456, -0.045678},
                                  {-0.000053456, 0.045678},
                                  {0.000053456, -0.045678}};
  ck_assert_ldouble_eq_tol(s21_fmod(testCase[_i][0], testCase[_i][1]),
                           fmodl(testCase[_i][0], testCase[_i][1]), EPS);
}
END_TEST

Suite *s21_fmod_suite(void) {
  Suite *s = suite_create("s21_fmod");
  TCase *tc = tcase_create("s21_fmod_tc");

  tcase_add_loop_test(tc, test_ceil_1, 0, 5);
  tcase_add_loop_test(tc, test_ceil_2, 0, 46);
  suite_add_tcase(s, tc);
  return s;
}